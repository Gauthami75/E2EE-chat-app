{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{184:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){\"use strict\";n.r(t),function(e,t){var c=n(152),o=n(32),i=n(199),r=function(){function t(){Object(c.a)(this,t),this.algorithm=\"aes-256-ctr\",this.alice=i.createECDH(\"secp256k1\"),this.alice.generateKeys(),this.sharedKey=\"\"}return Object(o.a)(t,[{key:\"getPublicKey\",value:function(){return this.alice.getPublicKey().toString(\"base64\")}},{key:\"getPrivateKey\",value:function(){return this.alice.getPrivateKey().toString(\"base64\")}},{key:\"getSecretKey\",value:function(e){return this.sharedKey=this.alice.computeSecret(e,\"base64\",\"hex\"),this.sharedKey}},{key:\"encryptMessage\",value:function(t){var n=i.randomBytes(16),c=i.createCipheriv(\"aes-256-gcm\",e.from(this.sharedKey,\"hex\"),n),o=c.update(t,\"utf8\",\"hex\");o+=c.final(\"hex\");var r=c.getAuthTag().toString(\"hex\"),s=n.toString(\"hex\")+o+r;return e.from(s,\"hex\").toString(\"base64\")}},{key:\"decryptMessage\",value:function(t){var n=e.from(t,\"base64\").toString(\"hex\"),c=n.substr(0,32),o=n.substr(32,n.length-32-32),r=n.substr(n.length-32,32);try{var s=i.createDecipheriv(\"aes-256-gcm\",e.from(this.sharedKey,\"hex\"),e.from(c,\"hex\"));s.setAuthTag(e.from(r,\"hex\"));var a=s.update(o,\"hex\",\"utf8\");return a+=s.final(\"utf8\")}catch(u){console.log(u.message)}}}]),t}();t.exports={ECDH:r}}.call(this,n(5).Buffer,n(198)(e))},202:function(e,t){},204:function(e,t){},215:function(e,t){},217:function(e,t){},244:function(e,t){},246:function(e,t){},247:function(e,t){},252:function(e,t){},254:function(e,t){},260:function(e,t){},262:function(e,t){},281:function(e,t){},293:function(e,t){},296:function(e,t){},300:function(e,t,n){\"use strict\";n.r(t);var c=n(0),o=n(49),i=n.n(o),r=n(10),s=n(11),a=n(146),u=Object(a.io)(\"http://localhost:8080\",{autoConnect:!0}),l=(n(184),n(1));function d(e){var t=e.ecdh,n=e.friendOnline;console.log(\"Rendering.... CHAT\");var o,i=Object(c.useState)(!1),a=Object(s.a)(i,2),d=a[0],j=a[1],b=Object(c.useState)(\"Encrypted\"),f=Object(s.a)(b,2),h=f[0],O=f[1],m=Object(c.useState)([]),g=Object(s.a)(m,2),y=g[0],x=g[1],v=Object(c.useState)([]),S=Object(s.a)(v,2),E=S[0],p=S[1],N=\"\",_=function(e,c){if(!1!==n){if(e.preventDefault(),\"\"!==c){o.target.value=\"\",console.log(c);var i=t.encryptMessage(c);console.log(i),u.emit(\"MESSAGE\",i),p((function(e){return[].concat(Object(r.a)(e),[{content:i,fromSelf:!0}])})),x((function(e){return[].concat(Object(r.a)(e),[{content:c,fromSelf:!0}])})),document.getElementById(\"message_box\").scrollTop=document.getElementById(\"message_box\").scrollHeight}}else alert(\"No User Connected\")};return u.on(\"MESSAGE\",(function(e){console.log(e),console.log(typeof e);var n=t.decryptMessage(e);console.log(n);var c=[].concat(Object(r.a)(y),[{content:n,fromSelf:!1}]);x(c),c=[].concat(Object(r.a)(E),[{content:e,fromSelf:!1}]),p(c)})),Object(l.jsxs)(\"div\",{className:\"chat_area\",children:[Object(l.jsxs)(\"div\",{id:\"chat_navbar\",children:[Object(l.jsx)(\"a\",{href:\"https://github.com/Saumya1503\",children:Object(l.jsx)(\"button\",{id:\"chat_leave_chat\",children:\"LEAVE CHAT\"})}),Object(l.jsx)(\"button\",{id:\"change_text\",title:\"See Encryped and Decrypted Messages\",onClick:function(){d?(j(!1),O(\"Encrypted\")):(j(!0),O(\"Decrypted\"))},children:h})]}),Object(l.jsx)(\"div\",{id:\"message_box\",children:function(e){return(!0===e?E:y).map((function(e,t){return!0===e.fromSelf?Object(l.jsxs)(\"div\",{className:\"chat__message sender_message\",children:[e.content,Object(l.jsx)(\"span\",{className:\"chat__time\",children:(new Date).toUTCString()})]},t):!1===e.fromSelf?Object(l.jsxs)(\"div\",{className:\"chat__message receiver_message\",children:[e.content,Object(l.jsx)(\"span\",{className:\"chat__time\",children:(new Date).toUTCString()})]},t):null}))}(d)}),Object(l.jsxs)(\"form\",{id:\"form\",onSubmit:function(e){_(e,N)},children:[Object(l.jsx)(\"input\",{id:\"message\",type:\"text\",placeholder:\"Enter Message\",onChange:function(e){return function(e){N=e.target.value,o=e}(e)}}),Object(l.jsx)(\"button\",{id:\"submit\",type:\"submit\",children:\"Send\"})]})]})}n(186);function j(e){var t=e.status;console.log(\"Rendering.... INFO\");var n=t.map((function(e,t){return Object(l.jsx)(\"p\",{children:e},t)}));return Object(l.jsxs)(\"div\",{className:\"info_area\",children:[Object(l.jsx)(\"div\",{id:\"info_navbar\",children:Object(l.jsx)(\"button\",{id:\"info_header\",children:\"STATUS INFO\"})}),Object(l.jsx)(\"div\",{id:\"info\",children:n})]})}n(187);function b(e){var t=e.ecdh,n=e.secretKey,c=e.friendPublicKey;return console.log(\"Rendering.... UTILS\"),Object(l.jsxs)(\"div\",{className:\"utils_area\",children:[Object(l.jsx)(\"div\",{id:\"utils_navbar\",children:Object(l.jsx)(\"button\",{id:\"utils_header\",children:\"UTILS INFO\"})}),Object(l.jsxs)(\"div\",{id:\"utils\",children:[Object(l.jsxs)(\"p\",{className:\"keys\",children:[\"Your Public Key : \",t.getPublicKey()]}),Object(l.jsxs)(\"p\",{className:\"keys\",children:[\"Your Private Key : \",t.getPrivateKey()]}),Object(l.jsxs)(\"p\",{className:\"keys\",children:[\"Your Friends Public Key : \",c]}),Object(l.jsxs)(\"p\",{className:\"keys\",children:[\"Secret Key : \",n]})]})]})}n(188);var f=n(147),h=n.n(f),O=n(313);function m(e){var t=e.joinRoom;console.log(\"Rendering.... JOINROOM\");return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(\"div\",{id:\"join_box\",title:\"You can create your code manually\",children:[Object(l.jsxs)(\"form\",{onSubmit:function(e){!function(e){e.preventDefault();var n=document.getElementById(\"roomName\").value;\"\"!==n&&t(n)}(e)},children:[Object(l.jsx)(\"button\",{type:\"submit\",children:\"JOIN ROOM\"}),Object(l.jsx)(\"input\",{id:\"roomName\",type:\"text\",placeholder:\"Enter Room Code\"})]}),Object(l.jsx)(\"button\",{id:\"copy_icon\",onClick:function(){var e=document.getElementById(\"roomName\");e.select(),e.setSelectionRange(0,99999),document.execCommand(\"copy\"),alert(\"Copied Room Code : \"+e.value)},children:Object(l.jsx)(h.a,{})})]}),Object(l.jsx)(\"button\",{id:\"generate_code\",onClick:function(){var e=Object(O.a)();document.getElementById(\"roomName\").value=e},children:\"GENERATE  CODE\"})]})}var g=n(149),y=(n(196),n(197).ECDH);var x=function(){console.log(\"Rendering.... APP\");var e=Object(c.useRef)(new y),t=Object(c.useState)(u.id),n=Object(s.a)(t,2),o=n[0],i=n[1],a=Object(c.useState)([\"\",\"\",!1]),f=Object(s.a)(a,2),h=f[0],O=f[1],x=Object(c.useState)([]),v=Object(s.a)(x,2),S=v[0],E=v[1],p=function(e){E((function(t){return[].concat(Object(r.a)(t),[e])}))};return Object(c.useEffect)((function(){u.on(\"NEW_CONNECTION\",(function(){u.emit(\"PUBLIC_KEY\",e.current.getPublicKey()),p(\"Sent your public Key\"),p(\"NEW USER JOINED\")})),u.on(\"ROOM_JOINED\",(function(t){p(\"SUCCESSFULLY JOINED : \".concat(t)),p(\"Sent your public Key : \".concat(e.current.getPublicKey())),u.emit(\"PUBLIC_KEY\",e.current.getPublicKey())})),u.on(\"PUBLIC_KEY\",(function(t){console.log(\"PUBLIC KEY\"),O([t,e.current.getSecretKey(t),!0]),p(\"Public Key Received : \".concat(t))})),u.on(\"USER_DISCONNECTED\",(function(){console.log(\"USER DISCONNCTED\"),O([\"\",\"\",!1]),p(\"USER DISCONNECTED\")})),u.on(\"ROOM_LEFT\",(function(e){p(\"You Left \".concat(e))})),u.on(\"ROOM_FULL\",(function(e){console.log(\"ROOM FULL\"),p(\"\".concat(e,\" is FULL!! Please Try another Room\"))})),u.on(\"INTRUSION_ATTEMPT\",(function(e){console.log(\"INTRUSION ATTEMPTED\"),p(\"Intruder tried to join\")}))}),[]),Object(l.jsxs)(\"div\",{className:\"container\",children:[Object(l.jsx)(g.a,{children:Object(l.jsx)(\"title\",{children:\"One-to-One-E2EE-Chat-App\"})}),Object(l.jsx)(\"div\",{className:\"left\",children:Object(l.jsx)(d,{ecdh:e.current,friendOnline:h[2]})}),Object(l.jsxs)(\"div\",{className:\"right\",children:[Object(l.jsx)(m,{joinRoom:function(e){var t;(t=e)!==o?(i(t),O([\"\",\"\",!1]),u.emit(\"JOIN\",t)):p(\"You are already in \".concat(t))}}),Object(l.jsx)(j,{status:S}),Object(l.jsx)(b,{ecdh:e.current,secretKey:h[1],friendPublicKey:h[0]})]})]})};i.a.render(Object(l.jsx)(x,{}),document.getElementById(\"root\"))}},[[300,1,2]]]);","name":"static/js/main.9f1560fd.chunk.js","map":{"version":3,"sources":["static/js/main.9f1560fd.chunk.js"],"names":["this","push","184","module","exports","__webpack_require__","186","187","188","196","197","__webpack_exports__","r","Buffer","_home_saumya_Projects_Assignment_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_saumya_Projects_Assignment_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","crypto","ECDH","Object","algorithm","alice","createECDH","generateKeys","sharedKey","key","value","getPublicKey","toString","getPrivateKey","bob_publicKey","computeSecret","MESSAGE","IV","randomBytes","cipher","createCipheriv","from","encrypted","update","final","auth_tag","getAuthTag","payload","payload64","bob_payload","bob_iv","substr","bob_encrypted","length","bob_auth_tag","decipher","createDecipheriv","setAuthTag","decrypted","error","console","log","message","call","202","204","215","217","244","246","247","252","254","260","262","281","293","296","300","react","react_dom","react_dom_default","n","toConsumableArray","slicedToArray","build","Utils_socket","autoConnect","jsx_runtime","ChatArea_ChatArea","_ref","ecdh","friendOnline","ref","_useState","_useState2","setEncrypted","_useState3","_useState4","buttonText","setButtonText","_useState5","_useState6","messages","setMessages","_useState7","_useState8","encryptedMessages","setEncyptedMessages","messageContent","onMessage","e","content","preventDefault","target","encryptedMessage","encryptMessage","emit","Messages","concat","fromSelf","document","getElementById","scrollTop","scrollHeight","alert","on","decryptedMessage","decryptMessage","messagesList","className","children","id","href","title","onClick","map","index","Date","toUTCString","showMessages","onSubmit","type","placeholder","onChange","getContent","InfoArea_InfoArea","status","showStatus","Status","UtilsArea_UtilsArea","secretKey","friendPublicKey","FileCopy","FileCopy_default","v4","JoinRoom_JoinRoom","joinRoom","roomName","handleSubmit","copyText","select","setSelectionRange","execCommand","a","code","Helmet","src_App","room","setRoom","info","setInfo","setStatus","addStatus","STATUS","current","publicKey","getSecretKey","event","render"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 184:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 186:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(Buffer, module) {/* harmony import */ var _home_saumya_Projects_Assignment_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(152);\n/* harmony import */ var _home_saumya_Projects_Assignment_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32);\nvar crypto=__webpack_require__(199);var ECDH=/*#__PURE__*/function(){function ECDH(){Object(_home_saumya_Projects_Assignment_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(this,ECDH);this.algorithm='aes-256-ctr';this.alice=crypto.createECDH(\"secp256k1\");this.alice.generateKeys();this.sharedKey=\"\";}Object(_home_saumya_Projects_Assignment_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(ECDH,[{key:\"getPublicKey\",value:function getPublicKey(){return this.alice.getPublicKey().toString('base64');}},{key:\"getPrivateKey\",value:function getPrivateKey(){return this.alice.getPrivateKey().toString('base64');}},{key:\"getSecretKey\",value:function getSecretKey(bob_publicKey){this.sharedKey=this.alice.computeSecret(bob_publicKey,'base64','hex');return this.sharedKey;}},{key:\"encryptMessage\",value:function encryptMessage(MESSAGE){var IV=crypto.randomBytes(16);var cipher=crypto.createCipheriv('aes-256-gcm',Buffer.from(this.sharedKey,'hex'),IV);var encrypted=cipher.update(MESSAGE,'utf8','hex');encrypted+=cipher.final('hex');var auth_tag=cipher.getAuthTag().toString('hex');// console.table({\n// IV: IV.toString('hex'),\n// encrypted: encrypted,\n// auth_tag: auth_tag\n// });\nvar payload=IV.toString('hex')+encrypted+auth_tag;var payload64=Buffer.from(payload,'hex').toString('base64');// console.log(payload64);\nreturn payload64;}},{key:\"decryptMessage\",value:function decryptMessage(payload64){var bob_payload=Buffer.from(payload64,'base64').toString('hex');var bob_iv=bob_payload.substr(0,32);var bob_encrypted=bob_payload.substr(32,bob_payload.length-32-32);var bob_auth_tag=bob_payload.substr(bob_payload.length-32,32);// console.table({ bob_iv, bob_encrypted, bob_auth_tag });\ntry{var decipher=crypto.createDecipheriv('aes-256-gcm',Buffer.from(this.sharedKey,'hex'),Buffer.from(bob_iv,'hex'));decipher.setAuthTag(Buffer.from(bob_auth_tag,'hex'));var decrypted=decipher.update(bob_encrypted,'hex','utf8');decrypted+=decipher.final('utf8');// console.table({ DecyptedMessage: decrypted });\nreturn decrypted;}catch(error){console.log(error.message);}}}]);return ECDH;}();module.exports={ECDH:ECDH};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(5).Buffer, __webpack_require__(198)(module)))\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 204:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 215:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 262:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(49);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(146);\n\n// CONCATENATED MODULE: ./src/Utils/socket.js\nvar URL=\"http://localhost:8080\";var socket=Object(build[\"io\"])(URL,{autoConnect:true});/* harmony default export */ var Utils_socket = (socket);\n// EXTERNAL MODULE: ./src/Components/ChatArea/ChatArea.css\nvar ChatArea = __webpack_require__(184);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/Components/ChatArea/ChatArea.js\nfunction ChatArea_ChatArea(_ref){var ecdh=_ref.ecdh,friendOnline=_ref.friendOnline;console.log(\"Rendering.... CHAT\");var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),encrypted=_useState2[0],setEncrypted=_useState2[1];var _useState3=Object(react[\"useState\"])(\"Encrypted\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),buttonText=_useState4[0],setButtonText=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),messages=_useState6[0],setMessages=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),encryptedMessages=_useState8[0],setEncyptedMessages=_useState8[1];var toogleEncrypted=function toogleEncrypted(){if(encrypted){setEncrypted(false);setButtonText(\"Encrypted\");}else{setEncrypted(true);setButtonText(\"Decrypted\");}};var scrollDown=function scrollDown(){document.getElementById(\"message_box\").scrollTop=document.getElementById(\"message_box\").scrollHeight;};var messageContent=\"\";var ref;var getContent=function getContent(e){messageContent=e.target.value;ref=e;};var onMessage=function onMessage(e,content){if(friendOnline===false){alert(\"No User Connected\");return;}e.preventDefault();if(content===\"\")return;ref.target.value=\"\";console.log(content);var encryptedMessage=ecdh.encryptMessage(content);console.log(encryptedMessage);Utils_socket.emit(\"MESSAGE\",encryptedMessage);setEncyptedMessages(function(Messages){return[].concat(Object(toConsumableArray[\"a\" /* default */])(Messages),[{content:encryptedMessage,fromSelf:true}]);});setMessages(function(Messages){return[].concat(Object(toConsumableArray[\"a\" /* default */])(Messages),[{content:content,fromSelf:true}]);});scrollDown();};var showMessages=function showMessages(encrypted){var MESSAGES=encrypted===true?encryptedMessages:messages;return MESSAGES.map(function(message,index){if(message.fromSelf===true){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__message sender_message\",children:[message.content,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__time\",children:new Date().toUTCString()})]},index);}if(message.fromSelf===false){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__message receiver_message\",children:[message.content,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__time\",children:new Date().toUTCString()})]},index);}else{return null;}});};Utils_socket.on(\"MESSAGE\",function(content){console.log(content);console.log(typeof content);var decryptedMessage=ecdh.decryptMessage(content);console.log(decryptedMessage);var messagesList=[].concat(Object(toConsumableArray[\"a\" /* default */])(messages),[{content:decryptedMessage,fromSelf:false}]);setMessages(messagesList);messagesList=[].concat(Object(toConsumableArray[\"a\" /* default */])(encryptedMessages),[{content:content,fromSelf:false}]);setEncyptedMessages(messagesList);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_area\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"chat_navbar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/Saumya1503\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"chat_leave_chat\",children:\"LEAVE CHAT\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"change_text\",title:\"See Encryped and Decrypted Messages\",onClick:toogleEncrypted,children:buttonText})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"message_box\",children:showMessages(encrypted)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{id:\"form\",onSubmit:function onSubmit(e){onMessage(e,messageContent);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"message\",type:\"text\",placeholder:\"Enter Message\",onChange:function onChange(e){return getContent(e);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"submit\",type:\"submit\",children:\"Send\"})]})]});}\n// EXTERNAL MODULE: ./src/Components/InfoArea/InfoArea.css\nvar InfoArea = __webpack_require__(186);\n\n// CONCATENATED MODULE: ./src/Components/InfoArea/InfoArea.js\n// import socket from '../../Utils/socket'\nfunction InfoArea_InfoArea(_ref){var status=_ref.status;console.log(\"Rendering.... INFO\");var showStatus=status.map(function(Status,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:Status},index);});// const scrollDown = ()=>{\n//     document.getElementById(\"message_box\").scrollTop = document.getElementById(\"message_box\").scrollHeight;\n// }\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info_area\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"info_navbar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"info_header\",children:\"STATUS INFO\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"info\",children:showStatus})]});}\n// EXTERNAL MODULE: ./src/Components/UtilsArea/UtilsArea.css\nvar UtilsArea = __webpack_require__(187);\n\n// CONCATENATED MODULE: ./src/Components/UtilsArea/UtilsArea.js\nfunction UtilsArea_UtilsArea(_ref){var ecdh=_ref.ecdh,secretKey=_ref.secretKey,friendPublicKey=_ref.friendPublicKey;console.log(\"Rendering.... UTILS\");return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"utils_area\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"utils_navbar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"utils_header\",children:\"UTILS INFO\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"utils\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"keys\",children:[\"Your Public Key : \",ecdh.getPublicKey()]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"keys\",children:[\"Your Private Key : \",ecdh.getPrivateKey()]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"keys\",children:[\"Your Friends Public Key : \",friendPublicKey]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"keys\",children:[\"Secret Key : \",secretKey]})]})]});}\n// EXTERNAL MODULE: ./src/Components/JoinRoom/JoinRoom.css\nvar JoinRoom = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/FileCopy.js\nvar FileCopy = __webpack_require__(147);\nvar FileCopy_default = /*#__PURE__*/__webpack_require__.n(FileCopy);\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(313);\n\n// CONCATENATED MODULE: ./src/Components/JoinRoom/JoinRoom.js\n// const {uuid} = require(\"uuidv4\")\nfunction JoinRoom_JoinRoom(_ref){var joinRoom=_ref.joinRoom;console.log(\"Rendering.... JOINROOM\");var handleSubmit=function handleSubmit(e){e.preventDefault();var roomName=document.getElementById(\"roomName\").value;if(roomName===\"\")return;joinRoom(roomName);};var generateCode=function generateCode(){var code=Object(v4[\"a\" /* default */])();document.getElementById(\"roomName\").value=code;};var copyRoomCode=function copyRoomCode(){var copyText=document.getElementById(\"roomName\");copyText.select();copyText.setSelectionRange(0,99999);document.execCommand(\"copy\");alert(\"Copied Room Code : \"+copyText.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"join_box\",title:\"You can create your code manually\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:function onSubmit(e){handleSubmit(e);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"JOIN ROOM\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"roomName\",type:\"text\",placeholder:\"Enter Room Code\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"copy_icon\",onClick:copyRoomCode,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FileCopy_default.a,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{id:\"generate_code\",onClick:generateCode,children:\"GENERATE  CODE\"})]});}\n// EXTERNAL MODULE: ./node_modules/react-helmet/es/Helmet.js\nvar Helmet = __webpack_require__(149);\n\n// EXTERNAL MODULE: ./src/CSS/App.css\nvar App = __webpack_require__(196);\n\n// CONCATENATED MODULE: ./src/App.js\nvar _require=__webpack_require__(197),ECDH=_require.ECDH;function App_App(){console.log(\"Rendering.... APP\");var ecdh=Object(react[\"useRef\"])(new ECDH());var _useState=Object(react[\"useState\"])(Utils_socket.id),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),room=_useState2[0],setRoom=_useState2[1];var _useState3=Object(react[\"useState\"])([\"\",\"\",false]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),info=_useState4[0],setInfo=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var addStatus=function addStatus(content){setStatus(function(STATUS){return[].concat(Object(toConsumableArray[\"a\" /* default */])(STATUS),[content]);});};// On Mounting\nObject(react[\"useEffect\"])(function(){Utils_socket.on(\"NEW_CONNECTION\",function(){Utils_socket.emit(\"PUBLIC_KEY\",ecdh.current.getPublicKey());addStatus(\"Sent your public Key\");addStatus(\"NEW USER JOINED\");});Utils_socket.on(\"ROOM_JOINED\",function(room){addStatus(\"SUCCESSFULLY JOINED : \".concat(room));addStatus(\"Sent your public Key : \".concat(ecdh.current.getPublicKey()));Utils_socket.emit(\"PUBLIC_KEY\",ecdh.current.getPublicKey());});Utils_socket.on(\"PUBLIC_KEY\",function(publicKey){console.log(\"PUBLIC KEY\");setInfo([publicKey,ecdh.current.getSecretKey(publicKey),true]);addStatus(\"Public Key Received : \".concat(publicKey));});Utils_socket.on(\"USER_DISCONNECTED\",function(){console.log(\"USER DISCONNCTED\");setInfo([\"\",\"\",false]);addStatus(\"USER DISCONNECTED\");});Utils_socket.on(\"ROOM_LEFT\",function(room){addStatus(\"You Left \".concat(room));});Utils_socket.on(\"ROOM_FULL\",function(room){console.log(\"ROOM FULL\");addStatus(\"\".concat(room,\" is FULL!! Please Try another Room\"));});Utils_socket.on('INTRUSION_ATTEMPT',function(room){console.log(\"INTRUSION ATTEMPTED\");addStatus(\"Intruder tried to join\");});},[]);var _joinRoom=function joinRoom(roomName){if(roomName===room){addStatus(\"You are already in \".concat(roomName));return;}else{setRoom(roomName);setInfo([\"\",\"\",false]);Utils_socket.emit(\"JOIN\",roomName);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Helmet[\"a\" /* Helmet */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"title\",{children:\"One-to-One-E2EE-Chat-App\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"left\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatArea_ChatArea,{ecdh:ecdh.current,friendOnline:info[2]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoom_JoinRoom,{joinRoom:function joinRoom(event){_joinRoom(event);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoArea_InfoArea,{status:status}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UtilsArea_UtilsArea,{ecdh:ecdh.current,secretKey:info[1],friendPublicKey:info[0]})]})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/ // <React.StrictMode>\nObject(jsx_runtime[\"jsx\"])(src_App,{}),// </React.StrictMode>,\ndocument.getElementById('root'));\n\n/***/ })\n\n},[[300,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/saumya/Projects/Assignment/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/saumya/Projects/Assignment/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/saumya/Projects/Assignment/client/node_modules/postcss-loader/src/index.js??postcss!/home/saumya/Projects/Assignment/client/src/Components/ChatArea/ChatArea.css","/home/saumya/Projects/Assignment/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/saumya/Projects/Assignment/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/saumya/Projects/Assignment/client/node_modules/postcss-loader/src/index.js??postcss!/home/saumya/Projects/Assignment/client/src/Components/InfoArea/InfoArea.css","/home/saumya/Projects/Assignment/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/saumya/Projects/Assignment/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/saumya/Projects/Assignment/client/node_modules/postcss-loader/src/index.js??postcss!/home/saumya/Projects/Assignment/client/src/Components/UtilsArea/UtilsArea.css","/home/saumya/Projects/Assignment/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/saumya/Projects/Assignment/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/saumya/Projects/Assignment/client/node_modules/postcss-loader/src/index.js??postcss!/home/saumya/Projects/Assignment/client/src/Components/JoinRoom/JoinRoom.css","/home/saumya/Projects/Assignment/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/saumya/Projects/Assignment/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/saumya/Projects/Assignment/client/node_modules/postcss-loader/src/index.js??postcss!/home/saumya/Projects/Assignment/client/src/CSS/App.css","/home/saumya/Projects/Assignment/client/src/Utils/ECDH.js","ignored /home/saumya/Projects/Assignment/client/node_modules/hash-base/node_modules/readable-stream/lib util","ignored /home/saumya/Projects/Assignment/client/node_modules/hash-base/node_modules/readable-stream/lib/internal/streams util","ignored /home/saumya/Projects/Assignment/client/node_modules/readable-stream/lib util","ignored /home/saumya/Projects/Assignment/client/node_modules/readable-stream/lib/internal/streams util","ignored /home/saumya/Projects/Assignment/client/node_modules/diffie-hellman/node_modules/bn.js/lib buffer","ignored /home/saumya/Projects/Assignment/client/node_modules/miller-rabin/node_modules/bn.js/lib buffer","ignored /home/saumya/Projects/Assignment/client/node_modules/brorand crypto","ignored /home/saumya/Projects/Assignment/client/node_modules/browserify-sign/node_modules/readable-stream/lib util","ignored /home/saumya/Projects/Assignment/client/node_modules/browserify-sign/node_modules/readable-stream/lib/internal/streams util","ignored /home/saumya/Projects/Assignment/client/node_modules/bn.js/lib buffer","ignored /home/saumya/Projects/Assignment/client/node_modules/elliptic/node_modules/bn.js/lib buffer","ignored /home/saumya/Projects/Assignment/client/node_modules/asn1.js/node_modules/bn.js/lib buffer","ignored /home/saumya/Projects/Assignment/client/node_modules/create-ecdh/node_modules/bn.js/lib buffer","ignored /home/saumya/Projects/Assignment/client/node_modules/public-encrypt/node_modules/bn.js/lib buffer","/home/saumya/Projects/Assignment/client/src/Utils/socket.js","/home/saumya/Projects/Assignment/client/src/Components/ChatArea/ChatArea.js","/home/saumya/Projects/Assignment/client/src/Components/InfoArea/InfoArea.js","/home/saumya/Projects/Assignment/client/src/Components/UtilsArea/UtilsArea.js","/home/saumya/Projects/Assignment/client/src/Components/JoinRoom/JoinRoom.js","/home/saumya/Projects/Assignment/client/src/App.js","/home/saumya/Projects/Assignment/client/src/index.js"],"names":["crypto","require","ECDH","algorithm","alice","createECDH","generateKeys","sharedKey","getPublicKey","toString","getPrivateKey","bob_publicKey","computeSecret","MESSAGE","IV","randomBytes","cipher","createCipheriv","Buffer","from","encrypted","update","final","auth_tag","getAuthTag","payload","payload64","bob_payload","bob_iv","substr","bob_encrypted","length","bob_auth_tag","decipher","createDecipheriv","setAuthTag","decrypted","error","console","log","message","module","exports","URL","socket","io","autoConnect","ChatArea","ecdh","friendOnline","useState","setEncrypted","buttonText","setButtonText","messages","setMessages","encryptedMessages","setEncyptedMessages","toogleEncrypted","scrollDown","document","getElementById","scrollTop","scrollHeight","messageContent","ref","getContent","e","target","value","onMessage","content","alert","preventDefault","encryptedMessage","encryptMessage","emit","Messages","fromSelf","showMessages","MESSAGES","map","index","Date","toUTCString","on","decryptedMessage","decryptMessage","messagesList","InfoArea","status","showStatus","Status","UtilsArea","secretKey","friendPublicKey","JoinRoom","joinRoom","handleSubmit","roomName","generateCode","code","uuid_v4","copyRoomCode","copyText","select","setSelectionRange","execCommand","App","useRef","id","room","setRoom","info","setInfo","setStatus","addStatus","STATUS","useEffect","current","publicKey","getSecretKey","event","ReactDOM","render"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;ACAA,GAAMA,OAAM,CAAGC,mBAAO,CAAC,GAAD,CAAtB,C,GAEMC,K,yBAEF,eAAa,CAAC,iKACV,KAAKC,SAAL,CAAiB,aAAjB,CACA,KAAKC,KAAL,CAAaJ,MAAM,CAACK,UAAP,CAAkB,WAAlB,CAAb,CACA,KAAKD,KAAL,CAAWE,YAAX,GACA,KAAKC,SAAL,CAAiB,EAAjB,CACH,C,mLAED,uBAAc,CACV,MAAO,MAAKH,KAAL,CAAWI,YAAX,GAA0BC,QAA1B,CAAmC,QAAnC,CAAP,CACH,C,6BAED,wBAAe,CACX,MAAO,MAAKL,KAAL,CAAWM,aAAX,GAA2BD,QAA3B,CAAoC,QAApC,CAAP,CACH,C,4BAED,sBAAaE,aAAb,CAA2B,CACvB,KAAKJ,SAAL,CAAiB,KAAKH,KAAL,CAAWQ,aAAX,CAAyBD,aAAzB,CAAwC,QAAxC,CAAkD,KAAlD,CAAjB,CACA,MAAO,MAAKJ,SAAZ,CACH,C,8BAED,wBAAeM,OAAf,CAAuB,CAEnB,GAAMC,GAAE,CAAGd,MAAM,CAACe,WAAP,CAAmB,EAAnB,CAAX,CACA,GAAMC,OAAM,CAAGhB,MAAM,CAACiB,cAAP,CACX,aADW,CAEXC,MAAM,CAACC,IAAP,CAAY,KAAKZ,SAAjB,CAA4B,KAA5B,CAFW,CAGXO,EAHW,CAAf,CAMA,GAAIM,UAAS,CAAGJ,MAAM,CAACK,MAAP,CAAcR,OAAd,CAAuB,MAAvB,CAA+B,KAA/B,CAAhB,CACAO,SAAS,EAAIJ,MAAM,CAACM,KAAP,CAAa,KAAb,CAAb,CAEA,GAAMC,SAAQ,CAAGP,MAAM,CAACQ,UAAP,GAAoBf,QAApB,CAA6B,KAA7B,CAAjB,CAEA;AACA;AACA;AACA;AACA;AAEA,GAAMgB,QAAO,CAAGX,EAAE,CAACL,QAAH,CAAY,KAAZ,EAAqBW,SAArB,CAAiCG,QAAjD,CAEA,GAAMG,UAAS,CAAGR,MAAM,CAACC,IAAP,CAAYM,OAAZ,CAAqB,KAArB,EAA4BhB,QAA5B,CAAqC,QAArC,CAAlB,CACA;AACA,MAAOiB,UAAP,CAEH,C,8BAED,wBAAeA,SAAf,CAAyB,CAErB,GAAMC,YAAW,CAAGT,MAAM,CAACC,IAAP,CAAYO,SAAZ,CAAuB,QAAvB,EAAiCjB,QAAjC,CAA0C,KAA1C,CAApB,CAEA,GAAMmB,OAAM,CAAGD,WAAW,CAACE,MAAZ,CAAmB,CAAnB,CAAsB,EAAtB,CAAf,CACA,GAAMC,cAAa,CAAGH,WAAW,CAACE,MAAZ,CAAmB,EAAnB,CAAuBF,WAAW,CAACI,MAAZ,CAAqB,EAArB,CAA0B,EAAjD,CAAtB,CACA,GAAMC,aAAY,CAAGL,WAAW,CAACE,MAAZ,CAAmBF,WAAW,CAACI,MAAZ,CAAqB,EAAxC,CAA4C,EAA5C,CAArB,CAEA;AAEA,GAAI,CACA,GAAME,SAAQ,CAAGjC,MAAM,CAACkC,gBAAP,CACb,aADa,CAEbhB,MAAM,CAACC,IAAP,CAAY,KAAKZ,SAAjB,CAA4B,KAA5B,CAFa,CAGbW,MAAM,CAACC,IAAP,CAAYS,MAAZ,CAAoB,KAApB,CAHa,CAAjB,CAMAK,QAAQ,CAACE,UAAT,CAAoBjB,MAAM,CAACC,IAAP,CAAYa,YAAZ,CAA0B,KAA1B,CAApB,EAEA,GAAII,UAAS,CAAGH,QAAQ,CAACZ,MAAT,CAAgBS,aAAhB,CAA+B,KAA/B,CAAsC,MAAtC,CAAhB,CACAM,SAAS,EAAIH,QAAQ,CAACX,KAAT,CAAe,MAAf,CAAb,CAEA;AAEA,MAAOc,UAAP,CACH,CAAC,MAAOC,KAAP,CAAc,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB,EACH,CACJ,C,oBAKLC,MAAM,CAACC,OAAP,CAAiB,CAACxC,IAAI,CAAJA,IAAD,CAAjB,C;;;;;;;;ACrFA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCA,GAAMyC,IAAG,CAAG,uBAAZ,CAEA,GAAMC,OAAM,CAAGC,mBAAE,CAACF,GAAD,CAAM,CAAEG,WAAW,CAAE,IAAf,CAAN,CAAjB,CAEeF,uDAAf,E;;;;;;;;ACDe,QAASG,kBAAT,MAAwC,IAArBC,KAAqB,MAArBA,IAAqB,CAAfC,YAAe,MAAfA,YAAe,CAEnDX,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAEA,cAAkCW,yBAAQ,CAAC,KAAD,CAA1C,kEAAO9B,SAAP,eAAkB+B,YAAlB,eACA,eAAoCD,yBAAQ,CAAC,WAAD,CAA5C,mEAAOE,UAAP,eAAmBC,aAAnB,eACA,eAAgCH,yBAAQ,CAAC,EAAD,CAAxC,mEAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAiDL,yBAAQ,CAAC,EAAD,CAAzD,mEAAOM,iBAAP,eAA0BC,mBAA1B,eAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAI,CACxB,GAAGtC,SAAH,CAAa,CACT+B,YAAY,CAAC,KAAD,CAAZ,CACAE,aAAa,CAAC,WAAD,CAAb,CACH,CAHD,IAGK,CACDF,YAAY,CAAC,IAAD,CAAZ,CACAE,aAAa,CAAC,WAAD,CAAb,CACH,CACJ,CARD,CAUA,GAAMM,WAAU,CAAG,QAAbA,WAAa,EAAI,CACnBC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,SAAvC,CAAmDF,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCE,YAA1F,CACH,CAFD,CAIA,GAAIC,eAAc,CAAG,EAArB,CACA,GAAIC,IAAJ,CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,CAAD,CAAK,CACpBH,cAAc,CAAIG,CAAC,CAACC,MAAF,CAASC,KAA3B,CACAJ,GAAG,CAAGE,CAAN,CACH,CAHD,CAKA,GAAMG,UAAS,CAAG,QAAZA,UAAY,CAACH,CAAD,CAAII,OAAJ,CAAc,CAE5B,GAAGtB,YAAY,GAAG,KAAlB,CAAwB,CACpBuB,KAAK,CAAC,mBAAD,CAAL,CACA,OACH,CAEDL,CAAC,CAACM,cAAF,GAEA,GAAGF,OAAO,GAAG,EAAb,CAAiB,OAEjBN,GAAG,CAACG,MAAJ,CAAWC,KAAX,CAAmB,EAAnB,CAEA/B,OAAO,CAACC,GAAR,CAAYgC,OAAZ,EACA,GAAIG,iBAAgB,CAAG1B,IAAI,CAAC2B,cAAL,CAAoBJ,OAApB,CAAvB,CACAjC,OAAO,CAACC,GAAR,CAAYmC,gBAAZ,EACA9B,YAAM,CAACgC,IAAP,CAAY,SAAZ,CAAuBF,gBAAvB,EAEAjB,mBAAmB,CAAC,SAACoB,QAAD,+DACbA,QADa,GAEhB,CAACN,OAAO,CAACG,gBAAT,CAA2BI,QAAQ,CAAE,IAArC,CAFgB,IAAD,CAAnB,CAKAvB,WAAW,CAAC,SAACsB,QAAD,+DACLA,QADK,GAER,CAACN,OAAO,CAAPA,OAAD,CAAUO,QAAQ,CAAE,IAApB,CAFQ,IAAD,CAAX,CAKAnB,UAAU,GACb,CA7BD,CAiCA,GAAMoB,aAAY,CAAG,QAAfA,aAAe,CAAC3D,SAAD,CAAa,CAC9B,GAAI4D,SAAQ,CAAI5D,SAAS,GAAG,IAAb,CAAmBoC,iBAAnB,CAAqCF,QAApD,CACA,MAAO0B,SAAQ,CAACC,GAAT,CAAa,SAACzC,OAAD,CAAU0C,KAAV,CAAkB,CAClC,GAAG1C,OAAO,CAACsC,QAAR,GAAqB,IAAxB,CAA6B,CACzB,mBACI,mCAEE,SAAS,CAAC,8BAFZ,WAIGtC,OAAO,CAAC+B,OAJX,cAKE,mCAAM,SAAS,CAAC,YAAhB,UAA8B,GAAIY,KAAJ,GAAWC,WAAX,EAA9B,EALF,GACOF,KADP,CADJ,CASH,CACD,GAAG1C,OAAO,CAACsC,QAAR,GAAmB,KAAtB,CAA4B,CACxB,mBACI,mCAEE,SAAS,CAAC,gCAFZ,WAIGtC,OAAO,CAAC+B,OAJX,cAKE,mCAAM,SAAS,CAAC,YAAhB,UAA8B,GAAIY,KAAJ,GAAWC,WAAX,EAA9B,EALF,GACOF,KADP,CADJ,CASH,CAVD,IAWI,CAAC,MAAO,KAAP,CAAY,CAChB,CAxBE,CAAP,CA0BH,CA5BD,CA8BAtC,YAAM,CAACyC,EAAP,CAAU,SAAV,CAAqB,SAACd,OAAD,CAAW,CAC5BjC,OAAO,CAACC,GAAR,CAAYgC,OAAZ,EACAjC,OAAO,CAACC,GAAR,CAAY,MAAOgC,QAAnB,EACA,GAAIe,iBAAgB,CAAGtC,IAAI,CAACuC,cAAL,CAAoBhB,OAApB,CAAvB,CACAjC,OAAO,CAACC,GAAR,CAAY+C,gBAAZ,EACA,GAAIE,aAAY,wDAAOlC,QAAP,GAAiB,CAACiB,OAAO,CAACe,gBAAT,CAA2BR,QAAQ,CAAC,KAApC,CAAjB,EAAhB,CACAvB,WAAW,CAACiC,YAAD,CAAX,CACAA,YAAY,wDAAOhC,iBAAP,GAA0B,CAACe,OAAO,CAAPA,OAAD,CAAUO,QAAQ,CAAC,KAAnB,CAA1B,EAAZ,CACArB,mBAAmB,CAAC+B,YAAD,CAAnB,CACH,CATD,EAYA,mBACI,mCAAK,SAAS,CAAC,WAAf,wBACI,mCAAK,EAAE,CAAC,aAAR,wBACA,gCAAG,IAAI,CAAC,+BAAR,uBAAwC,qCAAQ,EAAE,CAAC,iBAAX,wBAAxC,EADA,cAEI,qCAAQ,EAAE,CAAC,aAAX,CAAyB,KAAK,CAAC,qCAA/B,CAAqE,OAAO,CAAE9B,eAA9E,UAAgGN,UAAhG,EAFJ,GADJ,cAKI,kCAAK,EAAE,CAAC,aAAR,UACK2B,YAAY,CAAC3D,SAAD,CADjB,EALJ,cAQI,oCAAM,EAAE,CAAC,MAAT,CAAgB,QAAQ,CAAE,kBAAC+C,CAAD,CAAK,CAACG,SAAS,CAACH,CAAD,CAAGH,cAAH,CAAT,CAA4B,CAA5D,wBACI,oCAAO,EAAE,CAAC,SAAV,CAAoB,IAAI,CAAC,MAAzB,CAAgC,WAAW,CAAC,eAA5C,CAA4D,QAAQ,CAAE,kBAACG,CAAD,QAAOD,WAAU,CAACC,CAAD,CAAjB,EAAtE,EADJ,cAEI,qCAAQ,EAAE,CAAC,QAAX,CAAoB,IAAI,CAAC,QAAzB,kBAFJ,GARJ,GADJ,CAeH,C;;;;;AC5HD;AAGe,QAASsB,kBAAT,MAA4B,IAATC,OAAS,MAATA,MAAS,CAEvCpD,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAEA,GAAMoD,WAAU,CAAGD,MAAM,CAACT,GAAP,CAAW,SAACW,MAAD,CAASV,KAAT,CAAiB,CAC3C,mBAAO,yCAAgBU,MAAhB,EAAQV,KAAR,CAAP,CACH,CAFkB,CAAnB,CAIA;AACA;AACA;AAGA,mBACI,mCAAM,SAAS,CAAC,WAAhB,wBACI,kCAAK,EAAE,CAAC,aAAR,uBACI,qCAAQ,EAAE,CAAC,aAAX,yBADJ,EADJ,cAII,kCAAK,EAAE,CAAC,MAAR,UACKS,UADL,EAJJ,GADJ,CAUH,C;;;;;ACxBc,QAASE,oBAAT,MAAuD,IAAnC7C,KAAmC,MAAnCA,IAAmC,CAA7B8C,SAA6B,MAA7BA,SAA6B,CAAlBC,eAAkB,MAAlBA,eAAkB,CAElEzD,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAEA,mBACI,mCAAK,SAAS,CAAC,YAAf,wBACI,kCAAK,EAAE,CAAC,cAAR,uBACI,qCAAQ,EAAE,CAAC,cAAX,wBADJ,EADJ,cAII,mCAAK,EAAE,CAAC,OAAR,wBACI,iCAAG,SAAS,CAAC,MAAb,gCAAuCS,IAAI,CAACxC,YAAL,EAAvC,GADJ,cAEI,iCAAG,SAAS,CAAC,MAAb,iCAAwCwC,IAAI,CAACtC,aAAL,EAAxC,GAFJ,cAGI,iCAAG,SAAS,CAAC,MAAb,wCAA+CqF,eAA/C,GAHJ,cAII,iCAAG,SAAS,CAAC,MAAb,2BAAkCD,SAAlC,GAJJ,GAJJ,GADJ,CAaH,C;;;;;;;;;;;;ACjBD;AAGe,QAASE,kBAAT,MAA8B,IAAXC,SAAW,MAAXA,QAAW,CAEzC3D,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAEA,GAAM2D,aAAY,CAAG,QAAfA,aAAe,CAAC/B,CAAD,CAAK,CACtBA,CAAC,CAACM,cAAF,GACA,GAAI0B,SAAQ,CAAGvC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCQ,KAAnD,CACA,GAAG8B,QAAQ,GAAG,EAAd,CAAkB,OAClBF,QAAQ,CAACE,QAAD,CAAR,CACH,CALD,CAOA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAI,CACrB,GAAMC,KAAI,CAAGC,6BAAO,EAApB,CACA1C,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCQ,KAApC,CAA4CgC,IAA5C,CACH,CAHD,CAKA,GAAME,aAAY,CAAG,QAAfA,aAAe,EAAI,CACrB,GAAIC,SAAQ,CAAG5C,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAf,CACA2C,QAAQ,CAACC,MAAT,GACAD,QAAQ,CAACE,iBAAT,CAA2B,CAA3B,CAA8B,KAA9B,EACA9C,QAAQ,CAAC+C,WAAT,CAAqB,MAArB,EACAnC,KAAK,CAAC,sBAAwBgC,QAAQ,CAACnC,KAAlC,CAAL,CACD,CANH,CAQA,mBACI,4EACA,mCAAK,EAAE,CAAC,UAAR,CAAmB,KAAK,CAAC,mCAAzB,wBACI,oCAAM,QAAQ,CAAE,kBAACF,CAAD,CAAK,CACjB+B,YAAY,CAAC/B,CAAD,CAAZ,CACH,CAFD,wBAGI,qCAAQ,IAAI,CAAC,QAAb,uBAHJ,cAII,oCAAO,EAAE,CAAC,UAAV,CAAqB,IAAI,CAAC,MAA1B,CAAiC,WAAW,CAAC,iBAA7C,EAJJ,GADJ,cAOI,qCAAQ,EAAE,CAAC,WAAX,CAAuB,OAAO,CAAEoC,YAAhC,uBAA8C,2BAAC,kBAAD,IAA9C,EAPJ,GADA,cAUA,qCAAQ,EAAE,CAAC,eAAX,CAA2B,OAAO,CAAEH,YAApC,4BAVA,GADJ,CAcH,C;;;;;;;;ACnCD,aAAiBnG,mBAAO,CAAC,GAAD,CAAxB,CAAQC,IAAR,UAAQA,IAAR,CAEA,QAAS0G,QAAT,EAAe,CAEbtE,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAEA,GAAMS,KAAI,CAAG6D,uBAAM,CAAC,GAAI3G,KAAJ,EAAD,CAAnB,CAEA,cAAwBgD,yBAAQ,CAACN,YAAM,CAACkE,EAAR,CAAhC,kEAAOC,IAAP,eAAaC,OAAb,eAEA,eAAwB9D,yBAAQ,CAAC,CAAC,EAAD,CAAK,EAAL,CAAS,KAAT,CAAD,CAAhC,mEAAO+D,IAAP,eAAaC,OAAb,eAEA,eAA4BhE,yBAAQ,CAAC,EAAD,CAApC,mEAAOwC,MAAP,eAAeyB,SAAf,eAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAAC7C,OAAD,CAAW,CAC3B4C,SAAS,CAAC,SAACE,MAAD,+DACHA,MADG,GACK9C,OADL,IAAD,CAAT,CAGD,CAJD,CAMA;AACA+C,0BAAS,CAAC,UAAI,CAEZ1E,YAAM,CAACyC,EAAP,CAAU,gBAAV,CAA4B,UAAI,CAC9BzC,YAAM,CAACgC,IAAP,CAAY,YAAZ,CAA0B5B,IAAI,CAACuE,OAAL,CAAa/G,YAAb,EAA1B,EACA4G,SAAS,wBAAT,CACAA,SAAS,mBAAT,CACD,CAJD,EAMAxE,YAAM,CAACyC,EAAP,CAAU,aAAV,CAAyB,SAAC0B,IAAD,CAAQ,CAC/BK,SAAS,iCAA0BL,IAA1B,EAAT,CACAK,SAAS,kCAA2BpE,IAAI,CAACuE,OAAL,CAAa/G,YAAb,EAA3B,EAAT,CACAoC,YAAM,CAACgC,IAAP,CAAY,YAAZ,CAA0B5B,IAAI,CAACuE,OAAL,CAAa/G,YAAb,EAA1B,EACD,CAJD,EAMAoC,YAAM,CAACyC,EAAP,CAAU,YAAV,CAAwB,SAACmC,SAAD,CAAa,CACnClF,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA2E,OAAO,CAAC,CAACM,SAAD,CAAYxE,IAAI,CAACuE,OAAL,CAAaE,YAAb,CAA0BD,SAA1B,CAAZ,CAAkD,IAAlD,CAAD,CAAP,CACAJ,SAAS,iCAA0BI,SAA1B,EAAT,CACD,CAJD,EAMA5E,YAAM,CAACyC,EAAP,CAAU,mBAAV,CAA+B,UAAI,CACjC/C,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACA2E,OAAO,CAAC,CAAC,EAAD,CAAK,EAAL,CAAS,KAAT,CAAD,CAAP,CACAE,SAAS,qBAAT,CACD,CAJD,EAMAxE,YAAM,CAACyC,EAAP,CAAU,WAAV,CAAuB,SAAC0B,IAAD,CAAQ,CAC7BK,SAAS,oBAAaL,IAAb,EAAT,CACD,CAFD,EAIAnE,YAAM,CAACyC,EAAP,CAAU,WAAV,CAAuB,SAAC0B,IAAD,CAAQ,CAC3BzE,OAAO,CAACC,GAAR,CAAY,WAAZ,EACA6E,SAAS,WAAIL,IAAJ,uCAAT,CACH,CAHD,EAKAnE,YAAM,CAACyC,EAAP,CAAU,mBAAV,CAA+B,SAAC0B,IAAD,CAAQ,CACnCzE,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACA6E,SAAS,0BAAT,CACH,CAHD,EAKD,CAxCQ,CAwCN,EAxCM,CAAT,CA2CA,GAAMnB,UAAQ,CAAI,QAAZA,SAAY,CAACE,QAAD,CAAY,CAC5B,GAAGA,QAAQ,GAAGY,IAAd,CAAmB,CACjBK,SAAS,8BAAuBjB,QAAvB,EAAT,CACA,OACD,CAHD,IAII,CACFa,OAAO,CAACb,QAAD,CAAP,CACAe,OAAO,CAAC,CAAC,EAAD,CAAK,EAAL,CAAS,KAAT,CAAD,CAAP,CACAtE,YAAM,CAACgC,IAAP,CAAY,MAAZ,CAAoBuB,QAApB,EACD,CACF,CAVD,CAYA,mBACE,mCAAK,SAAS,CAAC,WAAf,wBAEE,2BAAC,wBAAD,wBACI,yEADJ,EAFF,cAKE,kCAAK,SAAS,CAAC,MAAf,uBACE,2BAAC,iBAAD,EAAU,IAAI,CAAEnD,IAAI,CAACuE,OAArB,CAA8B,YAAY,CAAEN,IAAI,CAAC,CAAD,CAAhD,EADF,EALF,cAQE,mCAAK,SAAS,CAAC,OAAf,wBACE,2BAAC,iBAAD,EAAU,QAAQ,CAAE,kBAACS,KAAD,CAAW,CAC3BzB,SAAQ,CAACyB,KAAD,CAAR,CACD,CAFH,EADF,cAIE,2BAAC,iBAAD,EAAU,MAAM,CAAEhC,MAAlB,EAJF,cAKE,2BAAC,mBAAD,EAAW,IAAI,CAAE1C,IAAI,CAACuE,OAAtB,CAA+B,SAAS,CAAEN,IAAI,CAAC,CAAD,CAA9C,CAAmD,eAAe,CAAEA,IAAI,CAAC,CAAD,CAAxE,EALF,GARF,GADF,CAkBD,CAEcL,mDAAf,E;;ACrGAe,mBAAQ,CAACC,MAAT,eACE;AACE,2BAAC,OAAD,IAFJ,CAGE;AACAhE,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,E","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","const crypto = require(\"crypto\")\n\nclass ECDH{\n\n    constructor(){\n        this.algorithm = 'aes-256-ctr';\n        this.alice = crypto.createECDH(\"secp256k1\")\n        this.alice.generateKeys()\n        this.sharedKey = \"\"\n    }\n\n    getPublicKey(){\n        return this.alice.getPublicKey().toString('base64')\n    }\n\n    getPrivateKey(){\n        return this.alice.getPrivateKey().toString('base64')\n    }\n\n    getSecretKey(bob_publicKey){\n        this.sharedKey = this.alice.computeSecret(bob_publicKey, 'base64', 'hex')\n        return this.sharedKey\n    }\n\n    encryptMessage(MESSAGE){\n\n        const IV = crypto.randomBytes(16);\n        const cipher = crypto.createCipheriv(\n            'aes-256-gcm',\n            Buffer.from(this.sharedKey, 'hex'),\n            IV\n        );\n\n        let encrypted = cipher.update(MESSAGE, 'utf8', 'hex');\n        encrypted += cipher.final('hex');\n\n        const auth_tag = cipher.getAuthTag().toString('hex');\n\n        // console.table({\n        // IV: IV.toString('hex'),\n        // encrypted: encrypted,\n        // auth_tag: auth_tag\n        // });\n\n        const payload = IV.toString('hex') + encrypted + auth_tag;\n\n        const payload64 = Buffer.from(payload, 'hex').toString('base64');\n        // console.log(payload64);\n        return payload64;\n\n    }\n\n    decryptMessage(payload64){\n        \n        const bob_payload = Buffer.from(payload64, 'base64').toString('hex');\n\n        const bob_iv = bob_payload.substr(0, 32);\n        const bob_encrypted = bob_payload.substr(32, bob_payload.length - 32 - 32);\n        const bob_auth_tag = bob_payload.substr(bob_payload.length - 32, 32);\n\n        // console.table({ bob_iv, bob_encrypted, bob_auth_tag });\n\n        try {\n            const decipher = crypto.createDecipheriv(\n                'aes-256-gcm',\n                Buffer.from(this.sharedKey, 'hex'),\n                Buffer.from(bob_iv, 'hex')\n            );\n\n            decipher.setAuthTag(Buffer.from(bob_auth_tag, 'hex'));\n\n            let decrypted = decipher.update(bob_encrypted, 'hex', 'utf8');\n            decrypted += decipher.final('utf8');\n\n            // console.table({ DecyptedMessage: decrypted });\n\n            return decrypted\n        } catch (error) {\n            console.log(error.message);\n        }\n    }    \n\n}\n\n\nmodule.exports = {ECDH};","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import { io } from \"socket.io-client\"\nconst URL = \"http://localhost:8080\";\n\nconst socket = io(URL, { autoConnect: true});\n\nexport default socket;","import React, {useState} from 'react'\nimport socket from \"../../Utils/socket\"\nimport \"./ChatArea.css\"\n\nexport default function ChatArea({ecdh, friendOnline}) {\n\n    console.log(\"Rendering.... CHAT\")\n\n    const [encrypted, setEncrypted] = useState(false)\n    const [buttonText, setButtonText] = useState(\"Encrypted\")\n    const [messages, setMessages] = useState([])\n    const [encryptedMessages, setEncyptedMessages] = useState([])\n\n    const toogleEncrypted = ()=>{\n        if(encrypted){\n            setEncrypted(false)\n            setButtonText(\"Encrypted\")\n        }else{\n            setEncrypted(true)\n            setButtonText(\"Decrypted\")\n        }\n    }\n\n    const scrollDown = ()=>{\n        document.getElementById(\"message_box\").scrollTop = document.getElementById(\"message_box\").scrollHeight;\n    }\n\n    let messageContent = \"\";\n    let ref;\n\n    const getContent = (e)=>{\n        messageContent =  e.target.value\n        ref = e\n    }\n\n    const onMessage = (e, content)=>{\n        \n        if(friendOnline===false){\n            alert(\"No User Connected\")\n            return\n        }\n\n        e.preventDefault();\n\n        if(content===\"\") return\n        \n        ref.target.value = \"\"\n        \n        console.log(content)\n        let encryptedMessage = ecdh.encryptMessage(content)\n        console.log(encryptedMessage)\n        socket.emit(\"MESSAGE\", encryptedMessage)\n        \n        setEncyptedMessages((Messages)=>[\n            ...Messages,\n            {content:encryptedMessage, fromSelf: true},\n        ]);\n\n        setMessages((Messages) => [\n            ...Messages,\n            {content, fromSelf: true },\n        ]);\n\n        scrollDown()\n    }\n\n\n    \n    const showMessages = (encrypted)=>{\n        let MESSAGES = (encrypted===true)?encryptedMessages:messages; \n        return MESSAGES.map((message, index)=>{\n            if(message.fromSelf === true){\n                return (\n                    <div\n                      key={index}\n                      className=\"chat__message sender_message\"\n                    >\n                      {message.content}\n                      <span className=\"chat__time\">{new Date().toUTCString()}</span>\n                    </div>\n                  );\n            }\n            if(message.fromSelf===false){\n                return (\n                    <div\n                      key={index}\n                      className=\"chat__message receiver_message\"\n                    >\n                      {message.content}\n                      <span className=\"chat__time\">{new Date().toUTCString()}</span>\n                    </div>\n                  ); \n            }\n            else{return null}\n            }\n        )\n    }\n    \n    socket.on(\"MESSAGE\", (content)=>{\n        console.log(content)\n        console.log(typeof(content))\n        let decryptedMessage = ecdh.decryptMessage(content)\n        console.log(decryptedMessage)\n        let messagesList = [...messages, {content:decryptedMessage, fromSelf:false}];\n        setMessages(messagesList);\n        messagesList = [...encryptedMessages, {content, fromSelf:false}];\n        setEncyptedMessages(messagesList)\n    })\n\n\n    return (\n        <div className=\"chat_area\">\n            <div id=\"chat_navbar\">\n            <a href=\"https://github.com/Saumya1503\"><button id=\"chat_leave_chat\">LEAVE CHAT</button></a>\n                <button id=\"change_text\" title=\"See Encryped and Decrypted Messages\" onClick={toogleEncrypted}>{buttonText}</button>\n            </div>\n            <div id=\"message_box\">\n                {showMessages(encrypted)}\n            </div>\n            <form id=\"form\" onSubmit={(e)=>{onMessage(e,messageContent)}}>\n                <input id=\"message\" type=\"text\" placeholder=\"Enter Message\" onChange={(e) => getContent(e)}/>\n                <button id=\"submit\" type=\"submit\">Send</button>\n            </form>\n        </div>\n    )\n}\n","import React from 'react'\n// import socket from '../../Utils/socket'\nimport \"./InfoArea.css\"\n\nexport default function InfoArea({status}) {\n\n    console.log(\"Rendering.... INFO\")\n\n    const showStatus = status.map((Status, index)=>{\n        return <p key={index}>{Status}</p>\n    })\n\n    // const scrollDown = ()=>{\n    //     document.getElementById(\"message_box\").scrollTop = document.getElementById(\"message_box\").scrollHeight;\n    // }\n\n\n    return (\n        <div  className=\"info_area\">\n            <div id=\"info_navbar\">\n                <button id=\"info_header\">STATUS INFO</button>\n            </div>\n            <div id=\"info\">\n                {showStatus}\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport \"./UtilsArea.css\"\n\nexport default function UtilsArea({ecdh, secretKey, friendPublicKey}) {\n\n    console.log(\"Rendering.... UTILS\")\n\n    return (\n        <div className=\"utils_area\">\n            <div id=\"utils_navbar\">\n                <button id=\"utils_header\">UTILS INFO</button>\n            </div>\n            <div id=\"utils\">\n                <p className=\"keys\">Your Public Key : {ecdh.getPublicKey()}</p>\n                <p className=\"keys\">Your Private Key : {ecdh.getPrivateKey()}</p>\n                <p className=\"keys\">Your Friends Public Key : {friendPublicKey}</p>\n                <p className=\"keys\">Secret Key : {secretKey}</p>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport \"./JoinRoom.css\"\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\n// const {uuid} = require(\"uuidv4\")\nimport { v4 as uuid_v4 } from \"uuid\";\n\nexport default function JoinRoom({joinRoom}) {\n\n    console.log(\"Rendering.... JOINROOM\")\n\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        let roomName = document.getElementById(\"roomName\").value;\n        if(roomName===\"\") return \n        joinRoom(roomName)\n    }\n\n    const generateCode = ()=>{\n        const code = uuid_v4()\n        document.getElementById(\"roomName\").value = code;\n    }\n\n    const copyRoomCode = ()=>{\n        let copyText = document.getElementById(\"roomName\");\n        copyText.select();\n        copyText.setSelectionRange(0, 99999)\n        document.execCommand(\"copy\");\n        alert(\"Copied Room Code : \" + copyText.value);\n      }\n\n    return (\n        <>\n        <div id=\"join_box\" title=\"You can create your code manually\">\n            <form onSubmit={(e)=>{\n                handleSubmit(e)\n            }}>\n                <button type=\"submit\">JOIN ROOM</button>\n                <input id=\"roomName\" type=\"text\" placeholder=\"Enter Room Code\"/>\n            </form>\n            <button id=\"copy_icon\" onClick={copyRoomCode}><FileCopyIcon/></button>\n        </div>\n        <button id=\"generate_code\" onClick={generateCode}>GENERATE  CODE</button>\n        </>\n    )\n}\n","import ChatArea from \"./Components/ChatArea/ChatArea\";\nimport InfoArea from \"./Components/InfoArea/InfoArea\";\nimport UtilsArea from \"./Components/UtilsArea/UtilsArea\";\nimport JoinRoom from \"./Components/JoinRoom/JoinRoom\";\nimport React, {useRef, useEffect, useState} from 'react';\nimport { Helmet } from 'react-helmet'\nimport socket from \"./Utils/socket\";\nimport \"./CSS/App.css\";\n\nconst { ECDH } = require(\"./Utils/ECDH\");\n\nfunction App() {\n\n  console.log(\"Rendering.... APP\")\n\n  const ecdh = useRef(new ECDH());\n\n  const [room, setRoom] = useState(socket.id)\n\n  const [info, setInfo] = useState([\"\", \"\", false])\n\n  const [status, setStatus] = useState([])\n\n  const addStatus = (content)=>{\n    setStatus((STATUS)=>[\n        ...STATUS, content\n    ]) \n  }\n\n  // On Mounting\n  useEffect(()=>{\n\n    socket.on(\"NEW_CONNECTION\", ()=>{\n      socket.emit(\"PUBLIC_KEY\", ecdh.current.getPublicKey())\n      addStatus(`Sent your public Key`)\n      addStatus(`NEW USER JOINED`)\n    })\n  \n    socket.on(\"ROOM_JOINED\", (room)=>{\n      addStatus(`SUCCESSFULLY JOINED : ${room}`)\n      addStatus(`Sent your public Key : ${ecdh.current.getPublicKey()}`)\n      socket.emit(\"PUBLIC_KEY\", ecdh.current.getPublicKey())\n    })\n  \n    socket.on(\"PUBLIC_KEY\", (publicKey)=>{\n      console.log(\"PUBLIC KEY\")\n      setInfo([publicKey, ecdh.current.getSecretKey(publicKey), true])\n      addStatus(`Public Key Received : ${publicKey}`)\n    })\n  \n    socket.on(\"USER_DISCONNECTED\", ()=>{\n      console.log(\"USER DISCONNCTED\")\n      setInfo([\"\", \"\", false])\n      addStatus(`USER DISCONNECTED`)\n    })\n\n    socket.on(\"ROOM_LEFT\", (room)=>{\n      addStatus(`You Left ${room}`)\n    })\n  \n    socket.on(\"ROOM_FULL\", (room)=>{\n        console.log(\"ROOM FULL\")\n        addStatus(`${room} is FULL!! Please Try another Room`)\n    })\n  \n    socket.on('INTRUSION_ATTEMPT', (room)=>{\n        console.log(\"INTRUSION ATTEMPTED\")\n        addStatus(`Intruder tried to join`)\n    })\n\n  }, [])\n\n\n  const joinRoom  = (roomName)=>{\n    if(roomName===room){\n      addStatus(`You are already in ${roomName}`)\n      return\n    }\n    else{\n      setRoom(roomName)\n      setInfo([\"\", \"\", false])\n      socket.emit(\"JOIN\", roomName)\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      {/* For Title of Page */}\n      <Helmet>\n          <title>One-to-One-E2EE-Chat-App</title>\n      </Helmet>\n      <div className=\"left\">\n        <ChatArea ecdh={ecdh.current} friendOnline={info[2]}/>\n      </div>  \n      <div className=\"right\">\n        <JoinRoom joinRoom={(event) => {\n            joinRoom(event)\n          }}/>\n        <InfoArea status={status}/>\n        <UtilsArea ecdh={ecdh.current} secretKey={info[1]} friendPublicKey={info[0]}/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}